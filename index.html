<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>注文フォーム</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <h2>注文フォーム</h2>

  <form id="orderForm">
    <label>ユーザー名:
      <input type="text" name="userName" id="userName" readonly>
    </label>

    <label>職員室:
      <select name="room" required>
        <option value="">選んでください</option>
        <option>職員室</option>
        <option>生徒指導室</option>
        <option>商業センター</option>
        <option>進路指導室</option>
      </select>
    </label>

    <label>商品名:
      <select name="item" required>
        <option value="">選んでください</option>
        <option value="お茶">お茶</option>
        <option value="コーヒー">コーヒー</option>
        <option value="チョコレート">チョコレート</option>
      </select>
    </label>

    <label>数量:
      <input type="number" name="quantity" value="1" min="1" required>
    </label>

    <button type="submit">注文する</button>
  </form>

  <script>
    const liffId = "YOUR_LIFF_ID"; // ← 自分のLIFF IDに書き換えてください

    window.onload = function () {
      liff.init({ liffId })
        .then(() => {
          if (!liff.isLoggedIn()) {
            liff.login();
          } else {
            return liff.getProfile();
          }
        })
        .then(profile => {
          if (profile) {
            document.getElementById("userName").value = profile.displayName;
          }
        })
        .catch(err => {
          console.error("LIFFエラー:", err);
          alert("LIFFの初期化に失敗しました");
        });
    };
  </script>
</body>
</html>

